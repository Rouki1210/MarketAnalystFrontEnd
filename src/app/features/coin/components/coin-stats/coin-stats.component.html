<div class="space-y-4 lg:space-y-6">
  <!-- Price and Actions -->
  <app-card>
    <div class="flex flex-col sm:flex-row items-start justify-between gap-3 mb-4">
      <div class="flex items-center space-x-3">
        <div class="w-10 h-10 lg:w-12 lg:h-12 bg-primary rounded-full flex items-center justify-center overflow-hidden flex-shrink-0">
          <img 
            [src]="coinDetail.coin.icon" 
            [alt]="coinDetail.coin.name + ' logo'"
            class="w-full h-full object-cover"
            onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';"
          />
          <div class="hidden w-full h-full items-center justify-center text-primary-foreground font-bold text-lg lg:text-xl">
            {{ coinDetail.coin.symbol[0] }}
          </div>
        </div>
        <div>
          <h1 class="text-xl lg:text-2xl font-bold text-foreground">{{ coinDetail.coin.name }} {{ coinDetail.coin.symbol }}</h1>
          <div class="text-sm text-muted-foreground">#{{ coinDetail.coin.rank }}</div>
        </div>
      </div>
      <app-button size="sm" class="w-full sm:w-auto" (click)="openAiAnalysis()">
        <svg class="w-4 h-4 mr-2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M12 2a2 2 0 0 1 2 2c0 .74-.4 1.39-1 1.73V7h1a7 7 0 0 1 7 7h1a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1h-1v1a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-1H2a1 1 0 0 1-1-1v-3a1 1 0 0 1 1-1h1a7 7 0 0 1 7-7h1V5.73c-.6-.34-1-.99-1-1.73a2 2 0 0 1 2-2z"></path>
        </svg>
        AI Analysis
      </app-button>
    </div>

    <div class="flex flex-col sm:flex-row sm:items-baseline space-y-2 sm:space-y-0 sm:space-x-4 mb-4">
      <span class="text-3xl lg:text-4xl font-bold text-foreground">{{ coinDetail.coin.price }}</span>
      <span [class]="coinDetail.coin.isPositive24h ? 'text-secondary' : 'text-accent'" class="flex items-center text-sm lg:text-base">
        <svg *ngIf="!coinDetail.coin.isPositive24h" class="w-4 h-4 mr-1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <polyline points="23 18 13.5 8.5 8.5 13.5 1 6"></polyline>
          <polyline points="17 18 23 18 23 12"></polyline>
        </svg>
        <svg *ngIf="coinDetail.coin.isPositive24h" class="w-4 h-4 mr-1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <polyline points="23 6 13.5 15.5 8.5 10.5 1 18"></polyline>
          <polyline points="17 6 23 6 23 12"></polyline>
        </svg>
        {{ coinDetail.coin.change24h }} (1d)
      </span>
    </div>

    <!-- Stats Grid -->
    <div class="grid grid-cols-1 sm:grid-cols-2 gap-3 lg:gap-4 mb-6">
      <div *ngFor="let stat of statsArray" class="space-y-1">
        <div class="text-xs lg:text-sm text-muted-foreground">{{ stat.label }}</div>
        <div class="flex items-center space-x-2">
          <span class="text-sm lg:text-base text-foreground font-medium">{{ stat.value }}</span>
          <span *ngIf="stat.change" 
                [class]="stat.change.startsWith('+') ? 'text-secondary' : 'text-accent'"
                class="text-xs">
            {{ stat.change }}
          </span>
        </div>
      </div>
    </div>

    <!-- Links -->
    <div class="flex flex-wrap items-center gap-2 lg:gap-4" *ngIf="coinDetail.links">
      <app-button variant="outline" size="sm" *ngIf="coinDetail.links.website" class="flex-1 sm:flex-initial">
        <svg class="w-4 h-4 mr-2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <circle cx="12" cy="12" r="10"></circle>
          <line x1="2" y1="12" x2="22" y2="12"></line>
          <path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"></path>
        </svg>
        Website
      </app-button>
      <app-button variant="outline" size="sm" *ngIf="coinDetail.links.whitepaper" class="flex-1 sm:flex-initial">
        <svg class="w-4 h-4 mr-2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
          <polyline points="14 2 14 8 20 8"></polyline>
          <line x1="16" y1="13" x2="8" y2="13"></line>
          <line x1="16" y1="17" x2="8" y2="17"></line>
          <polyline points="10 9 9 9 8 9"></polyline>
        </svg>
        Whitepaper
      </app-button>
    </div>
  </app-card>
</div>

